---
layout: default
title: "哪些不需要提交到代码库的文件"
description: "开发工具会生成各种文件，并不是所有文件都需要提交到代码库。"
---

不管你是使用 [pub](/tools/pub) 工具还是 [GitHub](https://github.com/) 
或者其他代码管理系统来管理你的 Dart 代码，
有些文件是你的工具或者 IDE 配置文件，
有些文件是 pub 工具以及其他
工具产生的文件，这些文件是不需要提交到代码库中的。

<aside class="alert alert-info" markdown="1">
**注意：**
除非特别注明，本页面讨论的是源代码管理，而
_不是_ 应用部署。
有些文件是不需要提交到代码仓库但是
在部署应用的时候是需要的。
</aside>

## The rules（规则）

**不要提交** 下面的文件和目录，这些文件和目录是由
pub 和 dart2js 生成的：

{% prettify none %}
build/
packages/
pubspec.lock  // Except for application packages
.buildlog
.packages
.project
.pub/
{% endprettify %}

**不要提交** 由 dartdoc 生成的 API 文档目录：

{% prettify none %}
doc/api/
{% endprettify %}

**不要提交** 其他开发环境或者开发工具所
产生的文件和目录。
例如：

{% prettify none %}
*.iml         // IntelliJ
*.ipr         // IntelliJ
*.iws         // IntelliJ
.idea/        // IntelliJ
.DS_Store     // Mac
{% endprettify %}

**避免提交** 自动生成的 JavaScript 文件：

{% prettify none %}
*.dart.js
*.info.json      # Produced by the --dump-info flag.
*.js             # When generated by dart2js. Don't specify *.js if your
                 # project includes source files written in JavaScript.
*.js_
*.js.deps
*.js.map
{% endprettify %}

要了解细节，请继续阅读。

## Details（细节）

基本规则是，只提交他人需要使用你的库所需要的文件到源代码库中。
包含其他文件这是没必要的、
适得其反的、如果你提交了和自己电脑相关
的信息，则
甚至会导致
安全问题。
在大部分代码仓库中，
常见的规则就是不提交生成的文件。

查看 GitHub 上的 [Ignoring files](https://help.github.com/articles/ignoring-files)
来了解更多信息。

### .packages and packages/

`.packages` 文件包含你的应用所依赖的各种库。
`packages/` 目录包含了链接到你电脑的各种符号链接。
使用你代码的其他人会使用 [pub get](/tools/pub/get-started#installing-packages) 自
动生成他们自己的包信息。

{% include packages-dir.html %}

### pubspec.lock

这个 `pubspec.lock` 文件是一个特例，
类似于 Ruby 的 `Gemfile.lock`。

**对于库包**， **不需要** 提交 `pubspec.lock` 文件。

**对于应用包**， **需要** 提交 `pubspec.lock` 文件。
这个文件对于非共享的资源是推荐提交的，
例如 应用来管理自己的依赖库。

### *.js

不要提交 dart2js 生成的 JavaScript。注意不要
不小心把自己写的 JavaScript 代码也给过滤了。

不使用任何参数调用 dart2js 会生成 `out.js` 文件，但是
调用 dart2js 的工具通常会指定输出的文件名字，比如：

{% prettify none  %}
dart2js -o main.dart.js main.dart
{% endprettify %}

更多关于生成和调试 Dart 应用的 
JavaScript 代码的信息请参考：
[dart2js 文档]({{site.webdev}}/tools/dart2js)。
